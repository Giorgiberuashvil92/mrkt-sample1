const types = {
    NEWEST: 'newest',
    OUR_PICKS: 'picks'
}
const arr = [{
        id: "1",
        name: 'Matériel Tbilisi',
        name2: 'Nevy denim slim fit jeans',
        price: 250,
        newest: true,
        img: "https://i.ibb.co/crn4KwM/first.png",
        type: types.NEWEST
    },
    {
        id: 2,
        name: 'Matériel Tbilisi',
        newest: true,
        name2: 'Nevy denim slim fit jeans',
        price: 260,
        img: "https://i.ibb.co/b5xW8yw/second.png",
        type: types.OUR_PICKS,
        design: 'ingorokva'

    },
    {
        id: 2,
        name: 'Matériel Tbilisi',
        newest: false,
        name2: 'Nevy denim slim fit jeans',
        price: 280,
        img: "https://i.ibb.co/vxK0Dq0/four.png",
        design: 'ingorokva'
    },
    {
        id: 2,
        name: 'Matériel Tbilisi',
        newest: true,
        name2: 'Nevy denim slim fit jeans',
        price: 330,
        img: "https://i.ibb.co/G76yssL/third.png",
        design: 'ingorokva'
    }, {
        id: 2,
        name: 'Matériel Tbilisi',
        newest: false,
        name2: 'Nevy denim slim fit jeans',
        price: 350,
        img: "https://i.ibb.co/G76yssL/third.png",
        design: 'ingorokva'

    }, {
        id: 5,
        name: 'Matériel Tbilisi',
        newest: false,
        name2: 'Nevy denim slim fit jeans',
        price: 150,
        img: "https://i.ibb.co/zhgZpL2/pink.png"


    }, {
        id: 7,
        name: 'Matériel Tbilisi',
        newest: false,
        name2: 'Nevy denim slim fit jeans',
        price: 550,
        img: "https://i.ibb.co/G76yssL/third.png",


    }, {
        id: 8,
        name: 'Matériel Tbilisi',
        newest: false,
        name2: 'Nevy denim slim fit jeans',
        price: 650,
        img: "https://i.ibb.co/G76yssL/third.png",


    }, {
        id: 6,
        name: 'Matériel Tbilisi',
        newest: false,
        name2: 'Nevy denim slim fit jeans',
        price: 750,
        img: "https://i.ibb.co/G76yssL/third.png",

    }, {
        id: 10,
        name: 'Matériel Tbilisi',
        newest: false,
        name2: 'Nevy denim slim fit jeans',
        price: 700,
        img: "https://i.ibb.co/G76yssL/third.png",

    }, {
        id: 11,
        name: 'Matériel Tbilisi',
        newest: false,
        name2: 'Nevy denim slim fit jeans',
        price: 750,
        img: "https://i.ibb.co/G76yssL/third.png",

    }, {
        id: 5,
        name: 'Matériel Tbilisi',
        newest: false,
        name2: 'Nevy denim slim fit jeans',
        price: 550,
        img: "https://i.ibb.co/G76yssL/third.png",

    }, {
        id: 13,
        name: 'Matériel Tbilisi',
        newest: false,
        name2: 'Nevy denim slim fit jeans',
        price: 750,
        img: "https://i.ibb.co/G76yssL/third.png",

    }, {
        id: 14,
        name: 'Matériel Tbilisi',
        newest: false,
        name2: 'Nevy denim slim fit jeans',
        price: 850,
        img: "https://i.ibb.co/G76yssL/third.png",

    }, {
        id: 15,
        name: 'Matériel Tbilisi',
        newest: false,
        name2: 'Nevy denim slim fit jeans',
        price: 850,
        img: "https://i.ibb.co/G76yssL/third.png",

    }, {
        id: 16,
        name: 'Matériel Tbilisi',
        newest: false,
        name2: 'Nevy denim slim fit jeans',
        price: 850,
        img: "https://i.ibb.co/G76yssL/third.png",

    }, {
        id: 17,
        name: 'Matériel Tbilisi',
        newest: false,
        name2: 'Nevy denim slim fit jeans',
        price: 850,
        img: "https://i.ibb.co/G76yssL/third.png",

    }, {
        id: 18,
        name: 'Matériel Tbilisi',
        newest: false,
        name2: 'Nevy denim slim fit jeans',
        price: 850,
        img: "https://i.ibb.co/G76yssL/third.png",

    }, {
        id: 19,
        name: 'Matériel Tbilisi',
        newest: false,
        name2: 'Nevy denim slim fit jeans',
        price: 850,
        img: "https://i.ibb.co/G76yssL/third.png",

    }, {
        id: 20,
        name: 'Matériel Tbilisi',
        newest: false,
        name2: 'Nevy denim slim fit jeans',
        price: 850,
        img: "https://i.ibb.co/G76yssL/third.png",

    }, {
        id: 21,
        name: 'Matériel Tbilisi',
        newest: false,
        name2: 'Nevy denim slim fit jeans',
        price: 850,
        img: "https://i.ibb.co/G76yssL/third.png",

    }, {
        id: 22,
        name: 'Matériel Tbilisi',
        newest: false,
        name2: 'Nevy denim slim fit jeans',
        price: 850,
        img: "https://i.ibb.co/G76yssL/third.png",

    }, {
        id: 25,
        name: 'Matériel Tbilisi',
        newest: false,
        name2: 'Nevy denim slim fit jeans',
        price: 850,
        img: "https://i.ibb.co/G76yssL/third.png",

    }, {
        id: 25,
        name: 'Matériel Tbilisi',
        newest: false,
        name2: 'Nevy denim slim fit jeans',
        price: 850,
        img: "https://i.ibb.co/b5xW8yw/second.png"

    }, {
        id: 25,
        name: 'Matériel Tbilisi',
        newest: false,
        name2: 'Nevy denim slim fit jeans',
        price: 850,
        img: "https://i.ibb.co/b5xW8yw/second.png"

    }, {
        id: 25,
        name: 'Matériel Tbilisi',
        newest: false,
        name2: 'Nevy denim slim fit jeans',
        price: 850,
        img: "https://i.ibb.co/b5xW8yw/second.png"

    }, {
        id: 25,
        name: 'Matériel Tbilisi',
        newest: false,
        name2: 'Nevy denim slim fit jeans',
        price: 850,
        img: "https://i.ibb.co/G76yssL/third.png",

    }, {
        id: 24,
        name: 'Matériel Tbilisi',
        newest: false,
        name2: 'Nevy denim slim fit jeans',
        price: 850,
        img: "https://i.ibb.co/b5xW8yw/second.png"

    }
];



///////////////////////////////////////////////////////////////


function initial(arr) {
    var mainContainer = document.getElementById("mainContainer");
    mainContainer.innerHTML = ''
    for (const item of arr) {
        mainContainer.innerHTML += `<div class="product-item-1" id="${item.id}">
        <img src="${item.img}" alt="first" value="image">
        <p>${item.name}</p>
        <p>${item.name2}</p>
        <p>${item.price} usd</p>
      </div>`
    }
}

// price high
function orderByPriceHighest(arr) {
    var highestPrices = arr.sort(function(a, b) {
        if (a.price < b.price) return 1
        else return -1
    })
    return highestPrices
}
// price Low
function orderByPriceLowest(arr) {
    var lowPrices = arr.sort(function(a, b) {
        if (a.price < b.price) return -1
        else return 1
    })
    return lowPrices
}

function filterNewests(arr) {
    return arr.filter(function(element) {
        return element.newest == true;
    })
}

function filterByPicks(arr) {
    return arr.filter(function(element) {
        return element.type === types.OUR_PICKS
    })
}

function filterByDesign(arr) {
    return arr.filter(function(element) {
        return element.design === 'ingorokva';
    })
}

function filterByPriceRange(arr, minPrice, maxPrice) {
    return arr.filter(function(element) {
        return element.price >= minPrice && element.price <= maxPrice
    })
}

///////////// onclick
document.getElementsByClassName("newest")[0].addEventListener('click', function(e) {
    const newstProducts = filterNewests(arr)
    initial(newstProducts)
});

document.getElementsByClassName('picks')[0].addEventListener('click', function(e) {
    const ourpicks = filterByPicks(arr)
    initial(ourpicks)
});
document.getElementsByClassName('Designers')[0].addEventListener('click', function(e) {
    const designers = filterByDesign(arr)
    initial(designers);
});
document.getElementsByClassName('price1')[0].addEventListener('click', function(e) {
    const pricehigh = orderByPriceHighest(arr)
    initial(pricehigh);
})
document.getElementsByClassName('price2')[0].addEventListener('click', function(e) {
    const pricelow = orderByPriceLowest(arr)
    initial(pricelow);
})


//init slider
var slider = document.getElementById('slider');
noUiSlider.create(slider, {
    start: [0, 1000],
    connect: true,
    range: {
        'min': 0,
        'max': 1100,
    },
    tooltips: true,
});

const pricesMintoMax = orderByPriceLowest(arr)
slider.noUiSlider.set([pricesMintoMax[0].price + 200, pricesMintoMax[pricesMintoMax.length - 1].price - 150]);

// Binding signature
slider.noUiSlider.on('change', function(e) {
    const prices = slider.noUiSlider.get()
    const filteredPrices = filterByPriceRange(arr, prices[0], prices[1])
    initial(filteredPrices)
});

initial(arr)
const test = orderByPriceLowest(arr)